<div class="status-bar" ng-controller="StatusBarController">

  <div class="status-bar__icon">
    <div ng-click="toggleSideNav()">
      <i class="fa fa-2x fa-bars status-bar__icon--menu hide-gt-s"></i>
    </div>
    <img class="status-bar__icon--crate" src="images/icons/CRA_logo_white.svg">
  </div>

  <div class="status-bar__content">
    <div class="status-bar__content__item hide-s">{{ 'STATUSBAR.CLUSTER' | translate }}: <span>{{ cluster_name }}</span></div>

    <div class="status-bar__content__item hide-m">{{ 'STATUSBAR.VERSION' | translate }}: <span ng-class="{'label-danger':version_warning}" ng-show="version" data-original-title="{{ versions.join('\n') }}" rel="tooltip">{{ version.number }}<span ng-show="version.snapshot">-{{ 'STATUSBAR.SNAPSHOT' | translate }}-{{ version.hash.substr(0,7) }}</span></span></div>

    <div class="status-bar__content__item hide-s">{{ 'STATUSBAR.HEALTH' | translate }}:
      <div class="cr-bubble {{ cluster_color_label }}"></div>
      <div>{{ 'STATUSBAR.DATA' | translate }}</div>
      <div class="cr-bubble {{ config_label }}"></div>
      <div><a class="status-bar__content__item-link" data-original-title="{{ checks_message }}" rel="tooltip" ng-href="#/">{{ 'STATUSBAR.CHECKS' | translate }}</a></div>
    </div>

    <div class="status-bar__content__item hide-xs">Load: <span class="">{{ load1 }}</span>/<span class="">{{ load5 }}</span>/<span class="">{{ load15 }}</span></div>

    <div class="dropdown status-bar__content__item" ng-controller="HelpMenuController">
      <a href="" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-question-circle"></i></a>
      <ul class="dropdown-menu pull-right notifications">
        <li class="notification-header"><h3>{{ 'STATUSBAR.HELP' | translate }}</h3><hr /></li>
        <li class="news-item clearfix">
          <a href="{{ docs_url }}" target="_docs">
            <div class="icon" style="padding-top:7px;"><i class="fa fa-book"></i></div>
            <h3>{{ 'STATUSBAR.CRATE_MANUAL' | translate }} <span ng-show="version">({{ version.number }})</span> &raquo;</h3>
            <div>{{ 'STATUSBAR.DOC_MSG' | translate }}</div>
          </a>
        </li>
      </ul>
    </div>

    <div class="dropdown status-bar__content__item" ng-controller="LanguageSwitchController">
      <a href="" class="dropdown-toggle" data-toggle="dropdown"><i class="fa fa-globe"></i></a>
      <ul class="dropdown-menu pull-right languages">
        <li><a ng-click="changeLanguage('auto')">Auto Detect</a></li>
        <li><a ng-click="changeLanguage('en')">English</a></li>
        <li><a ng-click="changeLanguage('de')">Deutsch</a></li>
        <li><a ng-click="changeLanguage('es')">Espa√±ol</a></li>
      </ul>
    </div>

    <div class="dropdown status-bar__content__item" ng-controller="NotificationsController">
      <a href="" class="dropdown-toggle" data-toggle="dropdown" ng-class="{'num-unread': numUnread || showUpdate}"><i class="fa fa-bell"></i></a>
      <ul class="dropdown-menu pull-right notifications">
        <li class="notification-header"><h3>{{ 'STATUSBAR.NOTIFICATIONS' | translate }}</h3><hr /></li>
        <li class="news-item unread-important" ng-show="showUpdate">
          <a href="https://crate.io/download/">
            <h3  translate="STATUSBAR.OLD_VERSION_TIP" translate-value-version="{{serverVersion}}"></h3>
            <div translate="STATUSBAR.UPDATE_TIP" translate-value-version="{{stableVersion}}"></div>
          </a>
        </li>
        <li ng-repeat="item in entries" class="news-item" id="{{ item.id }}" ng-class="{'unread': !isRead(item)}">
          <a ng-href="{{ item.permalink }}?utm_source=adminui&utm_medium=browser&utm_term={{ item.tags.join('+') }}&utm_content=blogpostlink&utm_campaign=newsfeed" target="_news" ng-click="markAsRead(item)">
            <h3 ng-bind-html="item.title"></h3>
            <div ng-bind-html="item.preview"></div>
          </a>
        </li>
        <li ng-show="noNotifications"><p>{{ 'STATUSBAR.NO_NOTIFICATION' | translate }}</p></li>
        <li class="notification-footer"><hr /></li>
        <li class="notification-footer" ng-show="entries"><a href="" ng-click="markAsRead('all')">{{ 'STATUSBAR.MARK_ALL_READ' | translate }}</a></li>
        <li ng-repeat="item in menu" class="notification-footer" ng-show="entries">
            <a ng-href="{{item.url}}" target="_menu_{{$index}}">{{item.title}}</a>
        </li>
      </ul>
    </div>
    
  </div>
</div>
