<div class="page-container">

  <div class="cr-page-header">
    <h1>{{ 'NAVIGATION.MONITORING' | translate }}</h1>
  </div>

  <div class="cr-panel-block" ng-if="user_has_access === false">
    You need to have access to `sys.jobs_log` and `sys.cluster` to use this feature. Please contact your system administrator.
  </div>

  <div ng-if="stats_enabled === 0 && user_has_access">
    <p>Cluster stat collection is <strong>disabled</strong>. To enable stat collection, please run <code>SET GLOBAL stats.enabled TO TRUE</code>, or by adding <code>stats.enabled: true</code> to config/crate.yml.
    For more information on enabling stat collection, please see the <a href="https://cr8.is/conf-collecting-stats">configuration documentation</a>.</p>
  </div>

  <div ng-if="user_has_access" class="cr-panel-block--checks">
    <div class="cr-panel-block__item--load">
      <div class="cr-panel-block__item__header--load">
        <h2>{{ 'MONITORING.QUERIES_PER_SECOND' | translate }}</h2>
        <div ng-click="toggle_qps_query_type($event, 4)" class="cr-panel-block__item__header__icon--load">
          <span class="cr-radio-button__load"><span id="qps-query-type-btn-4" class="cr-radio-button__load__toggle cr-radio-button__monitoring__toggle--overall"></span></span>
          <span id="qps-query-type-4">Overall</span>
        </div>
        <div ng-click="toggle_qps_query_type($event, 0)" class="cr-panel-block__item__header__icon--load">
          <span class="cr-radio-button__load"><span id="qps-query-type-btn-0" class="cr-radio-button__load__toggle cr-radio-button__monitoring__toggle--select"></span></span>
           <span id="qps-query-type-0">Select</span>
        </div>
        <div ng-click="toggle_qps_query_type($event, 1)" class="cr-panel-block__item__header__icon--load">
          <span class="cr-radio-button__load"><span id="qps-query-type-btn-1" class="cr-radio-button__load__toggle cr-radio-button__monitoring__toggle--insert"></span></span>
          <span id="qps-query-type-1">Insert</span>
        </div>
        <div ng-click="toggle_qps_query_type($event, 2)" class="cr-panel-block__item__header__icon--load">
          <span class="cr-radio-button__load"><span id="qps-query-type-btn-2" class="cr-radio-button__load__toggle cr-radio-button__monitoring__toggle--update"></span></span>
          <span id="qps-query-type-2">Update</span>
        </div>
        <div ng-click="toggle_qps_query_type($event, 3)" class="cr-panel-block__item__header__icon--load">
          <span class="cr-radio-button__load"><span id="qps-query-type-btn-3" class="cr-radio-button__load__toggle cr-radio-button__monitoring__toggle--delete"></span></span>
          <span id="qps-query-type-3">Delete</span>
        </div>
      </div>
      <div class="cr-panel-block__chart">
      	<nvd3 id="queries-per-second" config="{refreshDataOnly: true, deepWatchData: true}" options="qps_chart_options" data="qps"></nvd3>
      </div>
    </div>
  </div>

  <div ng-if="user_has_access" class="cr-panel-block--checks">
    <div class="cr-panel-block__item--load">
      <div class="cr-panel-block__item__header--load">
        <h2>{{ 'MONITORING.QUERY_SPEED' | translate }}</h2>
        <div ng-click="toggle_duration_query_type($event, 4)" class="cr-panel-block__item__header__icon--load">
          <span class="cr-radio-button__load"><span id="duration-query-type-btn-4" class="cr-radio-button__load__toggle cr-radio-button__monitoring__toggle--overall"></span></span>
          <span id="duration-query-type-4">Overall</span>
        </div>
        <div ng-click="toggle_duration_query_type($event, 0)" class="cr-panel-block__item__header__icon--load">
          <span class="cr-radio-button__load"><span id="duration-query-type-btn-0" class="cr-radio-button__load__toggle cr-radio-button__monitoring__toggle--select"></span></span>
          <span id="duration-query-type-0">Select</span>
        </div>
        <div ng-click="toggle_duration_query_type($event, 1)" class="cr-panel-block__item__header__icon--load">
          <span class="cr-radio-button__load"><span id="duration-query-type-btn-1" class="cr-radio-button__load__toggle cr-radio-button__monitoring__toggle--insert"></span></span>
          <span id="duration-query-type-1">Insert</span>
        </div>
        <div ng-click="toggle_duration_query_type($event, 2)" class="cr-panel-block__item__header__icon--load">
          <span class="cr-radio-button__load"><span id="duration-query-type-btn-2" class="cr-radio-button__load__toggle cr-radio-button__monitoring__toggle--update"></span></span>
          <span id="duration-query-type-2">Update</span>
        </div>
        <div ng-click="toggle_duration_query_type($event, 3)" class="cr-panel-block__item__header__icon--load">
          <span class="cr-radio-button__load"><span id="duration-query-type-btn-3" class="cr-radio-button__load__toggle cr-radio-button__monitoring__toggle--delete"></span></span>
          <span id="duration-query-type-3">Delete</span>
        </div>
      </div>
	
    <div class="cr-panel-block__chart"><nvd3 id="queries-per-second" config="{refreshDataOnly: true, deepWatchData: true}" options="duration_chart_options" data="duration"></nvd3></div>
    </div>
  </div>

</div>
