<div class="page-container">
  <div class="cr-page-header">
    <h1>{{ 'NAVIGATION.EXPORT' | translate }}</h1>
  </div>

  <div class="export__wrapper" export>
    <div class="cr-console">
      <div>
        <div class="cr-console-header">
          <div class="cr-console-header__tip">{{ 'EXPORT.TIP' | translate }}</div>

          <div class="cr-console-header__options show-console-options">
            <div class="cr-console-header__options__item export-format">
              <select class="form-control" ng-model="selectedFormat" ng-options="'EXPORT.FORMATS.' + f.id | uppercase | translate for f in supportedFormats"></select>
            </div>
          </div>
        </div>

        <div id="cr-console-query">
          <cliexport id="console-editor"></cliexport>
        </div>

        <div class="cr-console-header">
          <div class="cr-console-header__tip" ng-class="queryStatusClass(status)"> {{ status }}</div>

          <div class="cr-console-header__options">
            <div class="cr-console-header__options__item--hint">{{:: 'EXPORT.HINT' | translate }}</div>
            <div id="execute-btn" class="cr-console-header__options__item--btn cr-button cr-button--console" ng-click="export()">
              <div ng-class="loading ? 'faded-text' : ''" translate>{{:: 'EXPORT.ACTION' }}</div>
            </div>
          </div>
        </div>

        <div ng-hide="error.hide" class="cr-error-header query-status--error">
            <p>{{:: 'CONSOLE.ERROR' | translate }}</p>
            <p>{{ error.message }}</p>
          </div>
    
          <div ng-hide="error.hide || !showErrorTrace" class="cr-error-header--error-trace">
            <h4> {{:: 'CONSOLE.ERROR_TRACE' | translate }} </h4>
          </div>
    
          <div ng-hide="error.hide || !showErrorTrace">
            <pre id="error-trace"><code>{{ error.error_trace }}</code></pre>
          </div>
        </div>
        <div class="progress"  ng-if="loading">
            <div class="indeterminate"></div>
        </div>
    </div>
  </div>
</div>
